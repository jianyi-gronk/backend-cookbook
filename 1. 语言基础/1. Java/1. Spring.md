## 1. Spring 介绍

#### 1.1 J2EE 起源

- 随着 Java 的广泛使用，企业应用开发商在 Java 标准版的基础上各自扩展出许多企业应用 API，但是各企业系统 API 之间又不能相互兼容，破坏了 Java 的平台独立性
- 鉴于此，Sun 公司联合 IBM、Oracle、BEA 等大型企业应用系统开发商于 1999 年共同制订了一个基于 Java 组件技术的企业应用系统开发规范，该规范定义了一个多层企业信息系统的标准平台，旨在简化和规范企业应用系统的开发和部署
- 这规范和其定义的平台就构成了 J2EE。它定义了基于组件的方式设计、开发、组装和部署企业应用系统的各个组成部分。同时，J2EE 规范定义了分布式多层应用系统模型、组件重用策略、一体化的安全模型以及灵活的事务控制策略等，使得独立软件提供商（ ISV ）能够以比以前更快的速度向市场推出适应用户的解决方案
- **J2EE 是一套针对企业级分布式应用的计算环境。它定义了动态 Web 页面功能（ Servlet 和 Jsp ）、商业组件（ EJB ）、异步消息传输机制（ JMS ）、名称和目录定位服务（ JNDI ）、数据库访问（ JDBC ）、与子系统的连接器（ JCA ）和 安全服务 等**

#### 1.2 Spring 起源

- J2EE 应用程序的出现带来了诸如事务管理之类的核心中间层概念的标准化，但是在实践中并没有获得绝对的成功，因为开发效率，开发难度和实际的性能都令人失望
- 曾经使用过 EJB 开发 JAVA EE 应用的人，一定知道，在 EJB 开始的学习和应用非常的艰苦，很多东西都不能一下子就很容易的理解。EJB 要严格地实现各种不同类型的接口，类似的或者重复的代码大量存在。而配置也是复杂和单调，同样使用 JNDI 进行对象查找的代码也是单调而枯燥。虽然有一些开发工作随着 xdoclet 的出现，而有所缓解，但是学习 EJB 的高昂代价，和极低的开发效率，极高的资源消耗，都造成了 EJB 的使用困难
- 而 Spring 出现的初衷就是为了解决类似的这些问题。**Spring 的一个最大的目的就是使 JAVA EE 开发更加容易**。同时，Spring 之所以与 Struts、Hibernate 等单层框架不同，是因为 Spring 致力于提供一个以统一的、高效的方式构造整个应用，并且可以将单层框架以最佳的组合揉和在一起建立一个连贯的体系
- 可以说 Spring 是一个提供了更完善开发环境的一个框架，可以为 POJO（ Plain Ordinary Java Object ）对象提供企业级的服务
- Spring 的形成，最初来自 Rod Jahnson 在 2002 年出版的一本很有影响力的书籍《Expert One-on-One J2EE Design and Development 在新窗口打开》，就是在这本书中第一次出现了 Spring 的一些核心思想

## 2. Spring 组件

- 以下是 V4 版本的图，并标注 V5 版本改动，包含了 Spring 框架的所有模块，这些模块可以满足一切企业级应用开发的需求，在开发过程中可以根据需求有选择性地使用所需要的模块
  ![image](https://github.com/user-attachments/assets/40e5ff22-2dab-4968-a6d0-6f3cef51321d)
- Spring 框架的常用场景
  ![image](https://github.com/user-attachments/assets/133091b1-33c8-4094-baf2-b0bbdf9871e9)

#### 2.1 Test

- Test 模块：
  - Spring 支持 Junit 和 TestNG 测试框架，而且还额外提供了一些基于 Spring 的测试功能，比如在测试 Web 框架时，模拟 Http 请求的功能
  - 包含 Mock Objects，TestContext Framework，Spring MVC Test，WebTestClient

#### 2.2 Core Container（ Spring 的核心容器 ）

- Spring 的核心容器是其他模块建立的基础，由 Beans 模块、Core 核心模块、Context 上下文模块和 SpEL 表达式语言模块组成，没有这些核心容器，也不可能有 AOP、Web 等上层的功能
- Beans 模块：
  - 提供了框架的基础部分，包括 控制反转 和 依赖注入
- Core 核心模块：
  - 封装了 Spring 框架的底层部分，包括 资源访问、类型转换 及 一些常用工具类
- Context 上下文模块：
  - 建立在 Core 和 Beans 模块的基础之上，集成 Beans 模块功能并添加资源绑定、数据验证、国际化、Java EE 支持、容器生命周期、事件传播等
  - 其中 ApplicationContext 接口是上下文模块的焦点
- SpEL 模块：
  - 提供了强大的表达式语言支持，支持访问和修改属性值，方法调用，支持访问及修改数组、容器和索引器，命名变量，支持算数和逻辑运算，支持从 Spring 容器获取 Bean，它也支持列表投影、选择和一般的列表聚合等

#### 2.3 AOP、Aspects、Instrumentation 和 Messaging

- AOP 模块：
  - 提供了面向切面编程实现，提供比如 日志记录、权限控制、性能统计 等通用功能和业务逻辑分离的技术，并且能动态的把这些功能添加到需要的代码中，降低业务逻辑和通用功能的耦合
- Aspects 模块：
  - 提供与 AspectJ 的集成，是一个功能强大且成熟的面向切面编程（ AOP ）框架
- Instrumentation 模块：
  - 提供了类工具的支持和类加载器的实现，可以在特定的应用服务器中使用
- Messaging 模块：
  - Spring 4.0 以后新增了消息（ Spring-messaging ）模块，该模块提供了对消息传递体系结构和协议的支持
- Jcl 模块：
  - Spring 5.x 中新增了日志框架集成的模块

#### 2.4 Data Access/Integration（ 数据访问／集成 ）

- 数据访问／集成层包括 JDBC、ORM、OXM、JMS 和 Transactions 模块
- JDBC 模块：
  - 提供了一个 JDBC 的样例模板，使用这些模板能消除传统冗长的 JDBC 编码还有必须的事务控制，而且能享受到 Spring 管理事务的好处
- ORM 模块：
  - 提供与 “对象-关系”（ 关系指关系数据库的表 ）映射框架无缝集成的 API，包括 JPA、JDO、Hibernate 和 MyBatis 等
  - 而且还可以使用 Spring 事务管理，无需额外控制事务
- OXM 模块：
  - 提供了一个支持 Object /XML 映射的抽象层实现，如 JAXB、Castor、XMLBeans、JiBX 和 XStream。用于将 Java 对象映射成 XML 数据，或者将 XML 数据映射成 Java 对象
- JMS 模块：
  - 指 Java 消息服务，提供一套 “消息生产者、消息消费者” 模板用于更加简单的使用 JMS，JMS 用于用于在两个应用程序之间，或分布式系统中发送消息，进行异步通信
- Transactions 事务模块：
  - 支持编程和声明式事务管理

#### 2.5 Web 模块

- Spring 的 Web 层包括 Web、Servlet、WebSocket 和 Webflux 组件
- Web 模块：
  - 提供了基本的 Web 开发集成特性，例如多文件上传功能、使用的 Servlet 监听器的 IOC 容器初始化以及 Web 应用上下文
- Servlet 模块：
  - 提供了一个 Spring MVC Web 框架实现。Spring MVC 框架提供了基于注解的请求资源注入、更简单的数据绑定、数据验证等及一套非常易用的 JSP 标签，完全无缝与 Spring 其他技术协作
- WebSocket 模块：
  - 提供了简单的接口，用户只要实现响应的接口就可以快速的搭建 WebSocket Server，从而实现双向通讯
- Webflux 模块：
  - Spring WebFlux 是 Spring Framework 5.x 中引入的新的响应式 web 框架。与 Spring MVC 不同，它不需要 Servlet API，是完全异步且非阻塞的，并且通过 Reactor 项目实现了 Reactive Streams 规范
  - Spring WebFlux 用于创建基于事件循环执行模型的完全异步且非阻塞的应用程序
- Portlet 模块：
  - Spring4.x 中还有 Portlet 模块，但在 Spring 5.x 中已经移除。提供了在 Portlet 环境中使用 MVC 实现，类似 Web-Servlet 模块的功能
