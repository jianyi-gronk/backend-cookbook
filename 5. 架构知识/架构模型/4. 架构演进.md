## 1. 架构演进

- 大型网站的技术挑战主要来自于庞大的用户，高并发的访问和海量的数据，任何简单的业务一旦需要处理数以 P 计的数据和面对数以亿计的用户，问题就会变得很棘手。大型网站架构主要就是解决这类问题
- 架构选型是根据当前业务需要来的，在满足业务需求的前提下，既要有足够的扩展性也不能过度设计，每次的架构升级都是为了解决系统瓶颈而做的

## 2. 初始阶段的网站架构

- 初始阶段都比较简单，通常一台服务器就可以搞定一个网站了
  ![image](https://github.com/user-attachments/assets/1bcfe470-356c-4a5c-bc91-100db13518ee)

## 3. 应用服务和数据服务分离

- 随着网站业务的发展，一台服务器逐渐不能满足需求，这时候就需要将应用和数据分离
  ![image](https://github.com/user-attachments/assets/412a5041-e7f9-49c7-b489-f2126e071483)

## 4. 使用缓存改善网站性能

- 毫无疑问，现在的网站基本上都会使用缓存，即：80%的业务访问都会集中在 20% 的数据上
  ![image](https://github.com/user-attachments/assets/d0f3f228-2b93-4658-affe-cd763983be70)

## 5. 使用应用服务器集群改善网站的并发处理能力

- 因为单一应用服务器能够处理的请求连接有限，在网站访问高峰时期，应用服务器会成为整个网站的瓶颈。因此使用负载均衡处理器势在必然。通过负载均衡调度服务器，可将来自浏览器的访问请求分发到应用的集群中的任何一台服务器上
  ![image](https://github.com/user-attachments/assets/bb839666-c097-4aa9-9a3c-9585f66b4198)

## 6. 数据库读写分离

- 当用户达到一定规模后，数据库因为负载压力过高而成为网站的瓶颈。而目前主流的数据库都提供主从热备功能，通过配置两台数据库主从关系，可以将一台数据库的数据更新同步到另一台服务器上。网站利用数据库这一功能实现数据库读写分离，从而改善数据库负载压力
  ![image](https://github.com/user-attachments/assets/8333c91a-522e-450b-b887-522c310008e8)

## 7. 使用反向代理和 CDN 加上网站相应

- 提高网站的访问速度，主要手段有使用 CDN 和反向代理。CDN 和反向代理的基本原理都是缓存，区别在于 CDN 部署在网络提供商的机房，而反向代理是部署在网站的中心机房，当用户请求到达中心机房后，首先访问的反向代理，如果反向代理缓存着用户请求的资源，则直接返回给用户
  ![image](https://github.com/user-attachments/assets/d92f4965-69d6-47ab-b28e-03152510fac7)

## 8. 使用分布式文件系统和分布式数据库系统

- 任何强大的单一服务器都满足不了大型网站持续增长的业务需求。分布式数据库时网站数据库拆分的最后手段，只用在单表数据规模非常大的时候才使用。不到不得已时，网站更常用的数据库拆分手段是业务拆分，将不同业务的数据部署在不同的物理服务器上
  ![image](https://github.com/user-attachments/assets/a20d8ef2-ca21-4042-bfbc-90e4a4dee07c)

## 9. 使用 NoSQL 和搜索引擎

- 搜索引擎也基本已经形成现在大型网站必须提供的功能了，网站需要采用一些非关系数据库技术如 NoSQL 和非数据库查询技术如搜索引擎
  ![image](https://github.com/user-attachments/assets/b4540a31-a6a1-4ff4-9c9d-5ef292e6359f)

## 10. 业务拆分

- 大型网站为了应对日益复杂的业务场景，通过使用分而治之的手段将真个网站业务拆分成不同的产品线。具体到技术上，也会根据产品线话费，将一个网站拆分成许多不同的应用，每个应用独立部署维护。应用之间可以通过超链接建立管理，也可以通过消息队列进行数据分发，当然最多的还是通过访问同一个数据存储系统来构成一个关联的完整系统
  ![image](https://github.com/user-attachments/assets/fe17d980-32bd-4df4-bc9e-640ba053888b)

## 11. 分布式服务

- 由于每一个应用系统都需要执行许多相同的业务操作，比如用户管理，session 管理，那么可以将这些公用的业务提取出来，独立部署
  ![image](https://github.com/user-attachments/assets/fc046397-b85e-4237-a2fe-8a761e40763c)
